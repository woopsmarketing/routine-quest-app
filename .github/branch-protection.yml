# GitHub Branch Protection Rules
# ë°”ì´ë¸Œì½”ë”© ì „ìš© ë¸Œëœì¹˜ ë³´í˜¸ ì„¤ì •

protection_rules:
  # ğŸš¨ Production Branch - ìµœê³  ë³´ì•ˆ ë ˆë²¨
  main:
    required_status_checks:
      strict: true
      contexts:
        - "ğŸ” Code Quality"
        - "ğŸ§ª Tests"
        - "ğŸ—ï¸ Build"
        - "ğŸ³ Docker Build"
        - "âœ… CI Success"
    
    required_pull_request_reviews:
      required_approving_review_count: 2
      dismiss_stale_reviews: true
      require_code_owner_reviews: true
      require_last_push_approval: true
    
    restrictions:
      users: []
      teams: ["maintainers"]
    
    enforce_admins: true
    allow_force_pushes: false
    allow_deletions: false
    block_creations: false

  # ğŸ”„ Integration Branch - ë°”ì´ë¸Œì½”ë”© í†µí•©ì 
  develop:
    required_status_checks:
      strict: true
      contexts:
        - "ğŸ” Code Quality"
        - "ğŸ§ª Tests"
        - "ğŸ—ï¸ Build"
    
    required_pull_request_reviews:
      required_approving_review_count: 1
      dismiss_stale_reviews: true
      require_code_owner_reviews: false
      require_last_push_approval: false
    
    restrictions: null
    enforce_admins: false
    allow_force_pushes: false
    allow_deletions: false
    
  # ğŸ¯ Feature Branches - ë°”ì´ë¸Œì½”ë”© ì‘ì—… ë¸Œëœì¹˜
  "feature/*":
    required_status_checks:
      strict: false
      contexts:
        - "ğŸ” Code Quality"
        - "ğŸ§ª Tests"
    
    required_pull_request_reviews:
      required_approving_review_count: 0
      dismiss_stale_reviews: false
    
    restrictions: null
    enforce_admins: false
    allow_force_pushes: true
    allow_deletions: true

# ìë™ ë¨¸ì§€ ì„¤ì •
auto_merge:
  develop:
    # develop â†’ mainìœ¼ë¡œ ìë™ ë¨¸ì§€ ì¡°ê±´
    conditions:
      - all_checks_pass: true
      - no_conflicts: true
      - up_to_date: true
    schedule: "0 */2 * * *"  # 2ì‹œê°„ë§ˆë‹¤ ì²´í¬

# ë¸Œëœì¹˜ ëª…ëª… ê·œì¹™
branch_naming:
  patterns:
    - "feature/cursor-*"     # ì»¤ì„œ ì „ìš© ê¸°ëŠ¥ ë¸Œëœì¹˜
    - "feature/claude-*"     # í´ë¡œë“œ ì „ìš© ê¸°ëŠ¥ ë¸Œëœì¹˜  
    - "feature/collab-*"     # í˜‘ì—… ê¸°ëŠ¥ ë¸Œëœì¹˜
    - "hotfix/*"            # ê¸´ê¸‰ ìˆ˜ì •
    - "release/*"           # ë¦´ë¦¬ì¦ˆ ì¤€ë¹„
  
  forbidden:
    - "master"              # main ì‚¬ìš© ê°•ì œ
    - "dev"                 # develop ì‚¬ìš© ê°•ì œ

# ë°”ì´ë¸Œì½”ë”© ì›Œí¬í”Œë¡œìš° ê·œì¹™
vibecoding_rules:
  session_duration: "30-90ë¶„"
  sync_interval: "30ë¶„"
  merge_strategy: "squash"
  
  branch_lifecycle:
    create: "ì„¸ì…˜ ì‹œì‘ ì‹œ"
    sync: "30ë¶„ë§ˆë‹¤ developë¡œ"
    merge: "ê¸°ëŠ¥ ì™„ë£Œ ì‹œ"
    delete: "ë¨¸ì§€ í›„ ìë™ ì‚­ì œ"