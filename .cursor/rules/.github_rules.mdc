# GitHub MCP Policy for Cursor

## 🚫 기본 정책
- **기본값**: GitHub MCP 호출 금지
- **목적**: 무분별한 GitHub 작업 방지 및 안전한 개발 워크플로우 보장

## ✅ 허용 트리거
아래 정확한 문구가 있을 때만 GitHub MCP 사용 허용:
- "PR 생성" | "/pr" | "create PR"
- "코드 리뷰 요청" | "/review" | "request code review"
- "MERGE 준비" | "/merge-prepare" | "prepare merge"

## 🔒 선행 조건
트리거 인식 시에도 다음 조건을 모두 만족해야 함:
1. **브랜치 확인**: 현재 브랜치가 main이 아닌지 확인
2. **변경 요약**: 수정된 파일/라인 수, 위험도 분석
3. **로컬 검증**: lint/test/build 실행 및 결과 보고
4. **사용자 확인**: 명시적인 "yes" 응답 받기 전 MCP 호출 금지

## 🚨 금지 사항
- main 브랜치에 직접 쓰기/병합 시도
- 대규모 파일 전체 리라이트 후 즉시 PR 시도
- 위 트리거 없이 GitHub MCP 호출 시도
- 사용자 확인 없이 자동 실행

## 🔄 실행 시퀀스
1. **브랜치/변경/테스트 요약** 출력
2. **PR 메타데이터** (제목/본문/리뷰어/라벨) 사용자 확인 요청
3. **GitHub MCP** 1회 호출 실행
4. **결과 보고** (PR URL, CI 상태 등)

## ⚠️ 안전 장치
- 실패/의문 시 즉시 중단하고 사용자에게 질의
- 가능하면 GitHub MCP는 기본 비활성화
- 트리거 시 enable → 작업 직후 disable
- GitHub 토큰은 기본 READ 권한, 필요 시 1회성 WRITE 사용 후 즉시 READ로 원복
